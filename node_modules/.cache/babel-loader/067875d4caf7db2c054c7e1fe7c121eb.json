{"ast":null,"code":"import _objectSpread from\"C:/Users/teguhdarma/kasir-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/teguhdarma/kasir-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/teguhdarma/kasir-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/teguhdarma/kasir-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/teguhdarma/kasir-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Row,Col,ListGroup,Badge,Button}from\"react-bootstrap\";import{numberWithCommas}from\"../utils/utils\";import{faMinus,faPlus,faTrash}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import ModalKeranjang from\"./ModalKeranjang\";import TotalBayar from\"./TotalBayar\";import{API_URL}from\"../utils/constant\";import axios from\"axios\";import swal from\"sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Hasil=/*#__PURE__*/function(_Component){_inherits(Hasil,_Component);var _super=_createSuper(Hasil);function Hasil(props){var _this;_classCallCheck(this,Hasil);_this=_super.call(this,props);_this.handleShow=function(menukeranjang){_this.setState({showModal:true,keranjangDetail:menukeranjang,jumlah:menukeranjang.jumlah,keterangan:menukeranjang.keterangan,totalHarga:menukeranjang.totalharga});};_this.handleClose=function(){_this.setState({showModal:false});};_this.tambah=function(){_this.setState({jumlah:_this.state.jumlah+1,totalHarga:_this.state.keranjangDetail.product.harga*(_this.state.jumlah+1)});};_this.kurang=function(){if(_this.state.jumlah!==1){_this.setState({jumlah:_this.state.jumlah-1,totalHarga:_this.state.keranjangDetail.product.harga*(_this.state.jumlah-1)});}};_this.changeHandler=function(event){_this.setState({keterangan:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();_this.handleClose();var data={jumlah:_this.state.jumlah,totalharga:_this.state.totalHarga,product:_this.state.keranjangDetail.product,keterangan:_this.state.keterangan};axios.put(API_URL+\"keranjangs/\"+_this.state.keranjangDetail.id,data).then(function(res){swal({title:\"Update pesanan\",text:\"sukses update pesanan\"+data.product.nama,icon:\"success\",button:false});}).catch(function(error){console.log(error);});};_this.hapusPesanan=function(id){_this.handleClose();axios.delete(API_URL+\"keranjangs/\"+id).then(function(res){swal({title:\"hapus pesanan!\",text:\"sukses hapus pesanan\"+_this.state.keranjangDetail.product.nama,icon:\"error\",button:false,timer:3000});}).catch(function(error){console.log(error);});};_this.state={showModal:false,keranjangDetail:false,jumlah:0,keterangan:\" \",totalHarga:0};return _this;}_createClass(Hasil,[{key:\"render\",value:function render(){var _this2=this;var keranjangs=this.props.keranjangs;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Col,{md:\"2\",mt:\"2\",children:/*#__PURE__*/_jsx(\"hr\",{})}),keranjangs.length!==0&&/*#__PURE__*/_jsxs(ListGroup,{children:[keranjangs.map(function(menukeranjang){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:3,children:/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(Badge,{pill:true,variant:\"success\",children:menukeranjang.jumlah})})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h5\",{children:menukeranjang.product.nama}),/*#__PURE__*/_jsxs(\"p\",{children:[\"RP\",numberWithCommas(menukeranjang.product.harga)]})]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{className:\"float-right\",children:[\"Rp.\",numberWithCommas(menukeranjang.totalharga)]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){return _this2.handleShow(menukeranjang);},children:\"edit\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Button,{variant:\"danger\",onClick:function onClick(){return _this2.hapusPesanan(menukeranjang.id);},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash}),\"hapus\"]})})]})},menukeranjang.id);}),/*#__PURE__*/_jsx(ModalKeranjang,_objectSpread(_objectSpread({handleClose:this.handleClose},this.state),{},{tambah:this.tambah,kurang:this.kurang,changeHandler:this.changeHandler,handleSubmit:this.handleSubmit,hapusPesanan:this.hapusPesanan}))]}),/*#__PURE__*/_jsx(TotalBayar,_objectSpread({keranjangs:keranjangs},this.props))]});}}]);return Hasil;}(Component);export{Hasil as default};","map":{"version":3,"sources":["C:/Users/teguhdarma/kasir-app/src/component/Hasil.js"],"names":["React","Component","Row","Col","ListGroup","Badge","Button","numberWithCommas","faMinus","faPlus","faTrash","FontAwesomeIcon","ModalKeranjang","TotalBayar","API_URL","axios","swal","Hasil","props","handleShow","menukeranjang","setState","showModal","keranjangDetail","jumlah","keterangan","totalHarga","totalharga","handleClose","tambah","state","product","harga","kurang","changeHandler","event","target","value","handleSubmit","preventDefault","data","put","id","then","res","title","text","nama","icon","button","catch","error","console","log","hapusPesanan","delete","timer","keranjangs","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Row, Col, ListGroup, Badge ,Button} from \"react-bootstrap\";\r\nimport { numberWithCommas } from \"../utils/utils\";\r\nimport { faMinus, faPlus, faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ModalKeranjang from \"./ModalKeranjang\";\r\nimport TotalBayar from \"./TotalBayar\";\r\nimport { API_URL } from \"../utils/constant\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\"\r\nexport default class Hasil extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: false,\r\n      keranjangDetail: false,\r\n      jumlah: 0,\r\n      keterangan: \" \",\r\n      totalHarga:0,\r\n    };\r\n  }\r\n  handleShow = (menukeranjang) => {\r\n    this.setState({\r\n      showModal: true,\r\n      keranjangDetail: menukeranjang,\r\n      jumlah: menukeranjang.jumlah,\r\n      keterangan: menukeranjang.keterangan,\r\n      totalHarga:menukeranjang.totalharga\r\n     \r\n    });\r\n  };\r\n  handleClose = () => {\r\n    this.setState({\r\n      showModal: false,\r\n    });\r\n  };\r\n  tambah = () => {\r\n    this.setState({\r\n      jumlah: this.state.jumlah + 1,\r\n      totalHarga:this.state.keranjangDetail.product.harga*(this.state.jumlah + 1)\r\n    });\r\n  };\r\n\r\n  kurang = () => {\r\n    if (this.state.jumlah !== 1) {\r\n      this.setState({\r\n        jumlah: this.state.jumlah - 1,\r\n        totalHarga:this.state.keranjangDetail.product.harga*(this.state.jumlah - 1)\r\n      });\r\n    }\r\n  };\r\n  changeHandler = (event) => {\r\n    this.setState({\r\n      keterangan: event.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.handleClose();\r\n    const data = {\r\n        jumlah: this.state.jumlah,\r\n        totalharga: this.state.totalHarga,\r\n        product: this.state.keranjangDetail.product,\r\n        keterangan:this.state.keterangan\r\n      };\r\n\r\n      axios\r\n        .put(API_URL + \"keranjangs/\"+this.state.keranjangDetail.id, data)\r\n        .then((res) => {\r\n          swal({\r\n            title: \"Update pesanan\",\r\n            text: \"sukses update pesanan\" + data.product.nama,\r\n            icon: \"success\",\r\n            button: false,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n  };\r\n  hapusPesanan = (id)=> {\r\n    \r\n    this.handleClose();\r\n    \r\n\r\n      axios\r\n        .delete(API_URL + \"keranjangs/\"+id)\r\n        .then((res) => {\r\n          swal({\r\n            title: \"hapus pesanan!\",\r\n            text: \"sukses hapus pesanan\" + this.state.keranjangDetail.product.nama,\r\n            icon: \"error\",\r\n            button: false,\r\n            timer:3000,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n  };\r\n\r\n  render() {\r\n    const { keranjangs } = this.props;\r\n    return (\r\n      <div>\r\n        <Col md=\"2\" mt=\"2\">\r\n          <hr />\r\n        </Col>\r\n        {keranjangs.length !== 0 && (\r\n          <ListGroup>\r\n            {keranjangs.map((menukeranjang) => (\r\n              <ListGroup.Item\r\n                key={menukeranjang.id}\r\n                \r\n              >\r\n                <Row>\r\n                  <Col xs={3}>\r\n                    <h4>\r\n                      <Badge pill variant=\"success\">\r\n                        {menukeranjang.jumlah}\r\n                      </Badge>\r\n                    </h4>\r\n                  </Col>\r\n                  <Col>\r\n                    <h5>{menukeranjang.product.nama}</h5>\r\n                    <p>RP{numberWithCommas(menukeranjang.product.harga)}</p>\r\n                  </Col>\r\n                  <Col>\r\n                    <strong className=\"float-right\">\r\n                      Rp.{numberWithCommas(menukeranjang.totalharga)}\r\n                    </strong>\r\n                  </Col>\r\n                  <Col>\r\n                  <Button variant =\"primary\" onClick={() => this.handleShow(menukeranjang)}>edit</Button>\r\n                  </Col>\r\n                  <Col>\r\n                  <Button variant=\"danger\" onClick={()=>this.hapusPesanan(menukeranjang.id)}>\r\n            <FontAwesomeIcon icon={faTrash}/>\r\n            \r\n            hapus\r\n          </Button>\r\n                  </Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n            ))}\r\n            <ModalKeranjang\r\n              handleClose={this.handleClose}\r\n              {...this.state}\r\n              tambah={this.tambah}\r\n              kurang={this.kurang}\r\n              changeHandler={this.changeHandler}\r\n              handleSubmit={this.handleSubmit}\r\n              hapusPesanan={this.hapusPesanan}\r\n            />\r\n          </ListGroup>\r\n        )}\r\n        <TotalBayar keranjangs={keranjangs} {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}